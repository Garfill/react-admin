(this["webpackJsonpreact-admin"]=this["webpackJsonpreact-admin"]||[]).push([[4],{278:function(t,e,a){"use strict";a.r(e),a.d(e,"Home",(function(){return O}));var n,s,r=a(22),i=a(23),o=a(25),c=a(24),l=a(271),u=a(0),m=a(6),d=function(t){Object(o.a)(a,t);var e=Object(c.a)(a);function a(t){var n;return Object(r.a)(this,a),(n=e.call(this,t)).start=function(){n.isPause&&n.setState({localStart:n.props.start||0,duration:n.props.duration||3e3},(function(){n.startTimestamp=null,n.isPause=!1,n.countDown=n.state.localStart>n.state.localEnd,n.requestTimer=window.requestAnimationFrame(n.count)}))},n.count=function(t){if(n.isMount){n.startTimestamp||(n.startTimestamp=t),n.timestamp=t;var e=t-n.startTimestamp,a=0;a=n.countDown?n.state.localStart-(n.state.localStart-n.state.localEnd)*(e/n.state.duration):n.state.localStart+(n.state.localEnd-n.state.localStart)*(e/n.state.duration),a=n.countDown?a<n.state.localEnd?n.state.localEnd:a:a>n.state.localEnd?n.state.localEnd:a,a=Number(a.toFixed(n.state.decimals)),n.setState({nowValue:a,displayValue:String(a)}),e<n.state.duration?n.requestTimer=window.requestAnimationFrame(n.count):(n.loop&&n.loopCount(),n.callback())}else window.cancelAnimationFrame(n.requestTimer)},n.pause=function(){n.isPause||(window.cancelAnimationFrame(n.requestTimer),n.setState({localStart:n.state.nowValue,displayValue:String(n.state.nowValue),duration:n.state.duration-(n.timestamp-n.startTimestamp)}),n.isPause=!0)},n.resume=function(){n.startTimestamp=null,n.isPause=!1,n.requestTimer=window.requestAnimationFrame(n.count)},n.callback=function(){n.requestTimer=null,n.props.callback&&n.props.callback instanceof Function&&n.props.callback()},n.loopCount=function(){window.requestAnimationFrame(n.start)},n.reset=function(){n.startTimestamp=null,n.isPause=!0,window.cancelAnimationFrame(n.requestTimer),n.setState({localStart:n.props.start||0,displayValue:String(n.props.start||0)})},n.state={localStart:t.start||0,localEnd:t.end||0,duration:t.duration||3e3,nowValue:t.start||0,decimals:0},n.startTimestamp=null,n.timestamp=null,n.autoplay=t.autoplay||!1,n.loop=t.loop||!1,n.requestTimer=null,n.isPause=!n.autoplay,n.state.displayValue=String(n.state.localStart),n.isMount=!1,n}return Object(i.a)(a,[{key:"render",value:function(){return Object(m.jsx)(m.Fragment,{children:this.state.displayValue})}},{key:"componentDidMount",value:function(){this.autoplay&&this.start(),this.isMount=!0}},{key:"componentWillUnmount",value:function(){this.isMount=!1}}]),a}(u.Component),p=a(272),h=a(262),j=a(59),b=p.a.div(n||(n=Object(l.a)(["\n  margin-bottom: 16px;\n  font-size: 24px;\n  color: #444;\n"]))),f=p.a.div(s||(s=Object(l.a)(["\n  margin-top: 16px;\n"]))),O=function(t){Object(o.a)(a,t);var e=Object(c.a)(a);function a(t){var n;return Object(r.a)(this,a),(n=e.call(this,t)).clickBtn=function(t){n.countToRef.current[t]()},n.handleStartChange=function(t){n.countToRef.current.pause(),n.setState({startVal:Number(t.target.value)})},n.handleEndChange=function(t){n.countToRef.current.pause(),n.setState({endVal:Number(t.target.value)})},n.countToRef=Object(u.createRef)(),n.state={startVal:50,endVal:100},n}return Object(i.a)(a,[{key:"render",value:function(){var t=this;return Object(m.jsx)(u.Fragment,{children:Object(m.jsxs)("div",{className:"box-container",children:[Object(m.jsx)("h2",{children:"\u8ba1\u6570\u5668\uff08Counter\uff09"}),Object(m.jsx)(b,{children:Object(m.jsx)(d,{start:this.state.startVal,end:this.state.endVal,ref:this.countToRef,duration:1500})}),Object(m.jsxs)("div",{children:[Object(m.jsx)("span",{children:"\u5f00\u59cb\u503c"}),Object(m.jsx)(h.a,{value:this.state.startVal,onChange:this.handleStartChange})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("span",{children:"\u7ed3\u675f\u503c"}),Object(m.jsx)(h.a,{value:this.state.endVal,onChange:this.handleEndChange})]}),Object(m.jsxs)(f,{children:[Object(m.jsx)(j.a,{style:{marginRight:"8px"},onClick:function(){return t.clickBtn("start")},type:"primary",children:"start"}),Object(m.jsx)(j.a,{style:{marginRight:"8px"},onClick:function(){return t.clickBtn("pause")},children:"pause"}),Object(m.jsx)(j.a,{style:{marginRight:"8px"},onClick:function(){return t.clickBtn("resume")},type:"primary",children:"resume"}),Object(m.jsx)(j.a,{style:{marginRight:"8px"},onClick:function(){return t.clickBtn("reset")},children:"reset"})]})]})})}}]),a}(u.Component);e.default=O}}]);
//# sourceMappingURL=4.df1f532c.chunk.js.map